webpackJsonp([1,4],{0:function(t,o,e){t.exports=e("x35b")},"26++":function(t,o,e){"use strict";var n=e("3j3K");e.d(o,"a",function(){return i});var r=this&&this.__decorate||function(t,o,e,n){var r,c=arguments.length,i=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(o,e,i):r(o,e))||i);return c>3&&i&&Object.defineProperty(o,e,i),i},c=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},i=function(){function t(){this.titulo="Aplicación web de productos"}return t.prototype.ngOnInit=function(){console.log("Se ha cargado el componente home.component.ts")},t}();i=r([e.i(n._13)({selector:"home",template:e("KsFy")}),c("design:paramtypes",[])],i)},"5xMp":function(t,o){t.exports='<div id="content" class="col-lg-10 col-lg-offset-1">\n\t<header id="header" class="col-lg-12" [style.background]="header_color">\n\t\t<h1>\n\t\t  {{title}}\n\t\t</h1>\n\t</header>\n\n\t<nav id="nav" class="col-lg-12">\n\t\t<ul>\n\t\t\t<li><a [routerLink]="[\'/home\']" [routerLinkActive]="[\'activado\']">Inicio</a></li>\n\t\t\t<li><a [routerLink]="[\'/productos\']" [routerLinkActive]="[\'activado\']">Productos</a></li>\n\t\t\t<li><a [routerLink]="[\'/crear-producto\']" [routerLinkActive]="[\'activado\']">Crear producto</a></li>\n\t\t</ul>\n\t</nav>\n\n\t<section id="main" class="col-lg-12">\n\t\t\x3c!-- Componente actual --\x3e\n\t\t<router-outlet></router-outlet>\n\t</section>\n\n\t<footer id="footer" class="col-lg-12">\n\t\t<p>Demo</p>\n\t</footer>\n</div>\n'},"6n6+":function(t,o,e){"use strict";var n=e("3j3K"),r=e("5oXY"),c=e("oaBQ"),i=e("JGIa"),a=e("tvew");e.d(o,"a",function(){return d});var u=this&&this.__decorate||function(t,o,e,n){var r,c=arguments.length,i=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(o,e,i):r(o,e))||i);return c>3&&i&&Object.defineProperty(o,e,i),i},s=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},d=function(){function t(t,o,e){this._productoService=t,this._route=o,this._router=e,this.titulo="Crear un nuevo producto",this.producto=new i.a(0,"","",0,"")}return t.prototype.ngOnInit=function(){console.log("producto-add.component.ts cargado...")},t.prototype.onSubmit=function(){var t=this;console.log(this.producto),this.filesToUpload&&this.filesToUpload.length>=1?this._productoService.makeFileRequest(a.a.url+"upload-file",[],this.filesToUpload).then(function(o){console.log(o),t.resultUpload=o,t.producto.imagen=t.resultUpload.filename,t.saveProducto()},function(t){console.log(t)}):this.saveProducto()},t.prototype.saveProducto=function(){var t=this;this._productoService.addProducto(this.producto).subscribe(function(o){200==o.code?t._router.navigate(["/productos"]):console.log(o)},function(t){console.log(t)})},t.prototype.fileChangeEvent=function(t){this.filesToUpload=t.target.files,console.log(this.filesToUpload)},t}();d=u([e.i(n._13)({selector:"producto-add",template:e("DnsZ"),providers:[c.a]}),s("design:paramtypes",["function"==typeof(l=void 0!==c.a&&c.a)&&l||Object,"function"==typeof(p=void 0!==r.b&&r.b)&&p||Object,"function"==typeof(f=void 0!==r.c&&r.c)&&f||Object])],d);var l,p,f},Ayvm:function(t,o,e){"use strict";var n=e("3j3K"),r=e("5oXY"),c=e("oaBQ"),i=e("JGIa"),a=e("tvew");e.d(o,"a",function(){return d});var u=this&&this.__decorate||function(t,o,e,n){var r,c=arguments.length,i=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(o,e,i):r(o,e))||i);return c>3&&i&&Object.defineProperty(o,e,i),i},s=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},d=function(){function t(t,o,e){this._productoService=t,this._route=o,this._router=e,this.titulo="Editar producto",this.producto=new i.a(1,"","",1,""),this.is_edit=!0}return t.prototype.ngOnInit=function(){console.log(this.titulo),this.getProducto()},t.prototype.onSubmit=function(){var t=this;console.log(this.producto),this.filesToUpload&&this.filesToUpload.length>=1?this._productoService.makeFileRequest(a.a.url+"upload-file",[],this.filesToUpload).then(function(o){console.log(o),t.resultUpload=o,t.producto.imagen=t.resultUpload.filename,t.updateProducto()},function(t){console.log(t)}):this.updateProducto()},t.prototype.updateProducto=function(){var t=this;this._route.params.forEach(function(o){var e=o.id;t._productoService.editProducto(e,t.producto).subscribe(function(o){200==o.code?t._router.navigate(["/producto",e]):console.log(o)},function(t){console.log(t)})})},t.prototype.fileChangeEvent=function(t){this.filesToUpload=t.target.files,console.log(this.filesToUpload)},t.prototype.getProducto=function(){var t=this;this._route.params.forEach(function(o){var e=o.id;t._productoService.getProducto(e).subscribe(function(o){200==o.code?t.producto=o.data:t._router.navigate(["/productos"])},function(t){console.log(t)})})},t}();d=u([e.i(n._13)({selector:"producto-edit",template:e("DnsZ"),providers:[c.a]}),s("design:paramtypes",["function"==typeof(l=void 0!==c.a&&c.a)&&l||Object,"function"==typeof(p=void 0!==r.b&&r.b)&&p||Object,"function"==typeof(f=void 0!==r.c&&r.c)&&f||Object])],d);var l,p,f},DnsZ:function(t,o){t.exports='<h3>{{titulo}}</h3>\r\n<hr/>\r\n\r\n<form #formProducto="ngForm" (ngSubmit)="onSubmit()" class="col-lg-6" id="form-producto">\r\n\r\n\t<label>\r\n\t\tNombre\r\n\t\t<span *ngIf="!nombre.valid && nombre.touched" class="label label-danger">El nombre es obligatorio</span>\r\n\t</label>\r\n\t<input type="text" #nombre="ngModel" name="nombre" [(ngModel)]="producto.nombre" class="form-control" required />\r\n\r\n\t<label>\r\n\t\tDescripción\r\n\t\t<span *ngIf="!descripcion.valid && descripcion.touched" class="label label-danger">La descripción es obligatorio</span>\r\n\t</label>\r\n\t<textarea #descripcion="ngModel" name="descripcion" [(ngModel)]="producto.descripcion" class="form-control" required></textarea>\r\n\r\n\t<label>\r\n\t\tPrecio\r\n\t\t<span *ngIf="!precio.valid && precio.touched" class="label label-danger">El precio no es correcto</span>\r\n\t</label>\r\n\t<input type="text" #precio="ngModel" name="precio" [(ngModel)]="producto.precio" class="form-control" required pattern="[0-9]+"/>\r\n\r\n\t<label>Imagen</label>\r\n\t<div *ngIf="is_edit">\r\n\t\t<img src="http://localhost/curso-angular4-backend/uploads/{{producto.imagen}}" width="60"/>\r\n\t</div>\r\n\t<input type="file" class="form-control" (change)="fileChangeEvent($event)"/>\r\n\r\n\t<br/>\r\n\t<input type="submit" value="{{titulo}}" [disabled]="!formProducto.form.valid" class="btn btn-success"/>\r\n</form>'},Iksp:function(t,o,e){"use strict";var n=e("Qbdm"),r=e("3j3K"),c=e("NVOs"),i=e("Fzro"),a=e("TWki"),u=e("YWx4"),s=e("26++"),d=e("rtrj"),l=e("WOfI"),p=e("6n6+"),f=e("kQ2y"),h=e("Ayvm");e.d(o,"a",function(){return v});var g=this&&this.__decorate||function(t,o,e,n){var r,c=arguments.length,i=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(o,e,i):r(o,e))||i);return c>3&&i&&Object.defineProperty(o,e,i),i},v=function(){function t(){}return t}();v=g([e.i(r.b)({declarations:[u.a,s.a,d.a,l.a,p.a,f.a,h.a],imports:[n.a,c.a,i.a,a.a],providers:[a.b],bootstrap:[u.a]})],v)},JGIa:function(t,o,e){"use strict";e.d(o,"a",function(){return n});var n=function(){function t(t,o,e,n,r){this.id=t,this.nombre=o,this.descripcion=e,this.precio=n,this.imagen=r}return t}()},KsFy:function(t,o){t.exports='<div class="col-lg-10 col-lg-offset-1">\r\n\t<div class="jumbotron">\r\n\t\t<h2>{{titulo}}</h2>\r\n\t\t<p>Gestiona tus productos con la aplicación web</p>\r\n\t\t<p>\r\n\t\t\t<a [routerLink]="[\'/productos\']" class="btn btn-lg btn-primary">Ver productos</a>\r\n\t\t\t<a [routerLink]="[\'/crear-producto\']"  class="btn btn-lg btn-success">Añadir productos</a>\r\n\t\t</p>\r\n\t</div>\r\n</div>'},MOVZ:function(t,o){function e(t){throw new Error("Cannot find module '"+t+"'.")}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="MOVZ"},R4by:function(t,o){t.exports='<div *ngIf="!producto">\r\n\t<p>Cargando producto...</p>\r\n</div>\r\n<div class="row" *ngIf="producto">\r\n\t<div class="col-lg-4" *ngIf="producto.imagen">\r\n\t\t<br>\r\n\t\t<img src="http://localhost/curso-angular4-backend/uploads/{{producto.imagen}}" class="producto_imagen"/>\r\n\t</div>\r\n\t<div class="col-lg-8">\r\n\t\t<h3>{{producto.nombre}}</h3>\r\n\t\t<p><strong>{{producto.precio}} SOLES</strong></p>\r\n\t\t<p>{{producto.descripcion}}</p>\r\n\t</div>\r\n</div>'},TWki:function(t,o,e){"use strict";var n=e("5oXY"),r=e("26++"),c=e("rtrj"),i=e("WOfI"),a=e("6n6+"),u=e("kQ2y"),s=e("Ayvm");e.d(o,"b",function(){return l}),e.d(o,"a",function(){return p});var d=[{path:"",component:r.a},{path:"home",component:r.a},{path:"productos",component:i.a},{path:"crear-producto",component:a.a},{path:"producto/:id",component:u.a},{path:"editar-producto/:id",component:s.a},{path:"**",component:c.a}],l=[],p=n.a.forRoot(d)},Tar1:function(t,o){t.exports='<h3>{{titulo}}</h3>\r\n<hr/>\r\n\r\n<div *ngIf="!productos">\r\n\tCargando listado de productos...\r\n</div>\r\n<div *ngIf="productos">\r\n\t<div class="row">\r\n\t\t<div class="col-lg-3" *ngFor="let producto of productos">\r\n\t\t\t<div class="thumbnail">\r\n\t\t\t\t<div *ngIf="producto.imagen" class="imagen_container">\r\n\t\t\t\t\t<img src="http://localhost/curso-angular4-backend/uploads/{{producto.imagen}}" class="producto_imagen"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div *ngIf="!producto.imagen">\r\n\t\t\t\t\t<div class="imagen_relleno"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="caption">\r\n\t\t\t\t\t<h3>{{producto.nombre}}</h3>\r\n\t\t\t\t\t<p>{{producto.precio}} SOLES</p>\r\n\r\n\t\t\t\t\t<div class="botones" *ngIf="confirmado != producto.id">\r\n\t\t\t\t\t\t<a [routerLink]="[\'/producto\', producto.id]" class="btn btn-md btn-primary">Ver</a>\r\n\t\t\t\t\t\t<a [routerLink]="[\'/editar-producto\', producto.id]" class="btn btn-md btn-warning">Editar</a>\r\n\t\t\t\t\t\t<a (click)="borrarConfirm(producto.id)" class="btn btn-md btn-danger">Borrar</a>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class="seguro" *ngIf="confirmado == producto.id">\r\n\t\t\t\t\t\t<a (click)="onDeleteProducto(producto.id)" class="btn btn-md btn-danger">\r\n\t\t\t\t\t\t\tQuiero eliminarlo\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a (click)="cancelarConfirm()" class="btn btn-md btn-warning">Cancelar</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'},WOfI:function(t,o,e){"use strict";var n=e("3j3K"),r=e("5oXY"),c=e("oaBQ");e.d(o,"a",function(){return u});var i=this&&this.__decorate||function(t,o,e,n){var r,c=arguments.length,i=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(o,e,i):r(o,e))||i);return c>3&&i&&Object.defineProperty(o,e,i),i},a=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},u=function(){function t(t,o,e){this._route=t,this._router=o,this._productoService=e,this.titulo="Listado de productos",this.confirmado=null}return t.prototype.ngOnInit=function(){console.log("productos-list.component.ts cargado"),this.getProductos()},t.prototype.getProductos=function(){var t=this;this._productoService.getProductos().subscribe(function(o){200!=o.code?console.log(o):t.productos=o.data},function(t){console.log(t)})},t.prototype.borrarConfirm=function(t){this.confirmado=t},t.prototype.cancelarConfirm=function(){this.confirmado=null},t.prototype.onDeleteProducto=function(t){var o=this;this._productoService.deleteProducto(t).subscribe(function(t){200==t.code?o.getProductos():alert("Error al borrar producto")},function(t){console.log(t)})},t}();u=i([e.i(n._13)({selector:"productos-list",template:e("Tar1"),providers:[c.a]}),a("design:paramtypes",["function"==typeof(s=void 0!==r.b&&r.b)&&s||Object,"function"==typeof(d=void 0!==r.c&&r.c)&&d||Object,"function"==typeof(l=void 0!==c.a&&c.a)&&l||Object])],u);var s,d,l},YWx4:function(t,o,e){"use strict";var n=e("3j3K"),r=e("tvew");e.d(o,"a",function(){return a});var c=this&&this.__decorate||function(t,o,e,n){var r,c=arguments.length,i=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(o,e,i):r(o,e))||i);return c>3&&i&&Object.defineProperty(o,e,i),i},i=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},a=function(){function t(){this.title="Productos",this.header_color=r.a.header_color}return t}();a=c([e.i(n._13)({selector:"app-root",template:e("5xMp"),styles:[e("okgc")]}),i("design:paramtypes",[])],a)},kQ2y:function(t,o,e){"use strict";var n=e("3j3K"),r=e("5oXY"),c=e("oaBQ");e.d(o,"a",function(){return u});var i=this&&this.__decorate||function(t,o,e,n){var r,c=arguments.length,i=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(o,e,i):r(o,e))||i);return c>3&&i&&Object.defineProperty(o,e,i),i},a=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},u=function(){function t(t,o,e){this._productoService=t,this._route=o,this._router=e}return t.prototype.ngOnInit=function(){console.log("producto-detail.Component.ts cargado..."),this.getProducto()},t.prototype.getProducto=function(){var t=this;this._route.params.forEach(function(o){var e=o.id;t._productoService.getProducto(e).subscribe(function(o){200==o.code?t.producto=o.data:t._router.navigate(["/productos"])},function(t){console.log(t)})})},t}();u=i([e.i(n._13)({selector:"producto-detail",template:e("R4by"),providers:[c.a]}),a("design:paramtypes",["function"==typeof(s=void 0!==c.a&&c.a)&&s||Object,"function"==typeof(d=void 0!==r.b&&r.b)&&d||Object,"function"==typeof(l=void 0!==r.c&&r.c)&&l||Object])],u);var s,d,l},kZql:function(t,o,e){"use strict";e.d(o,"a",function(){return n});var n={production:!0}},oaBQ:function(t,o,e){"use strict";var n=e("3j3K"),r=e("Fzro"),c=e("+pb+"),i=(e.n(c),e("tvew"));e.d(o,"a",function(){return s});var a=this&&this.__decorate||function(t,o,e,n){var r,c=arguments.length,i=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(o,e,i):r(o,e))||i);return c>3&&i&&Object.defineProperty(o,e,i),i},u=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},s=function(){function t(t){this._http=t,this.url=i.a.url}return t.prototype.getProductos=function(){return this._http.get(this.url+"productos").map(function(t){return t.json()})},t.prototype.getProducto=function(t){return this._http.get(this.url+"producto/"+t).map(function(t){return t.json()})},t.prototype.addProducto=function(t){var o=JSON.stringify(t),e="json="+o,n=new r.b({"Content-Type":"application/x-www-form-urlencoded"});return this._http.post(this.url+"productos",e,{headers:n}).map(function(t){return t.json()})},t.prototype.editProducto=function(t,o){var e=JSON.stringify(o),n="json="+e,c=new r.b({"Content-Type":"application/x-www-form-urlencoded"});return this._http.post(this.url+"update-producto/"+t,n,{headers:c}).map(function(t){return t.json()})},t.prototype.deleteProducto=function(t){return this._http.get(this.url+"delete-producto/"+t).map(function(t){return t.json()})},t.prototype.makeFileRequest=function(t,o,e){return new Promise(function(o,n){for(var r=new FormData,c=new XMLHttpRequest,i=0;i<e.length;i++)r.append("uploads[]",e[i],e[i].name);c.onreadystatechange=function(){4==c.readyState&&(200==c.status?o(JSON.parse(c.response)):n(c.response))},c.open("POST",t,!0),c.send(r)})},t}();s=a([e.i(n.w)(),u("design:paramtypes",["function"==typeof(d=void 0!==r.c&&r.c)&&d||Object])],s);var d},okgc:function(t,o,e){o=t.exports=e("FZ+f")(),o.push([t.i,"",""]),t.exports=t.exports.toString()},rtrj:function(t,o,e){"use strict";var n=e("3j3K");e.d(o,"a",function(){return i});var r=this&&this.__decorate||function(t,o,e,n){var r,c=arguments.length,i=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,o,e,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(o,e,i):r(o,e))||i);return c>3&&i&&Object.defineProperty(o,e,i),i},c=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},i=function(){function t(){this.titulo="Error!! Página no encontrada."}return t.prototype.ngOnInit=function(){console.log("Componente error.component.ts cargado")},t}();i=r([e.i(n._13)({selector:"error",template:e("s0Er")}),c("design:paramtypes",[])],i)},s0Er:function(t,o){t.exports='<div class="col-lg-10 col-lg-offset-1">\r\n\t<div class="jumbotron">\r\n\t\t<h2>{{titulo}}</h2>\r\n\t\t<p>La página que intentas cargar no existe, prueba con estos botones:</p>\r\n\t\t<p>\r\n\t\t\t<a [routerLink]="[\'/productos\']" class="btn btn-lg btn-primary">Ver productos</a>\r\n\t\t\t<a [routerLink]="[\'/crear-producto\']" class="btn btn-lg btn-success">Añadir productos</a>\r\n\t\t</p>\r\n\t</div>\r\n</div>'},tvew:function(t,o,e){"use strict";e.d(o,"a",function(){return n});var n={url:"/curso-angular4-backend/index.php/",header_color:"#E03137"}},x35b:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("3j3K"),r=e("O61y"),c=e("Iksp");e("kZql").a.production&&e.i(n.a)(),e.i(r.a)().bootstrapModule(c.a)}},[0]);